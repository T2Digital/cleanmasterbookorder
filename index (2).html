<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¬Ø² - Ø£Ø±Ø´ÙŠÙ ÙˆØªÙ‚ÙˆÙŠÙ…</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; direction: rtl; }
        .container { margin: 20px auto; padding: 20px; width: 80%; border: 1px solid #ccc; border-radius: 10px; background: #f9f9f9; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background: #ddd; }
        #calendar div { margin: 5px; padding: 10px; background: #e0e0e0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Ø·Ù„Ø¨ Ø­Ø¬Ø² Ø®Ø¯Ù…Ø©</h2>
        <label>Ø§Ù„Ø§Ø³Ù…: <input type="text" id="name" required></label>
        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: <input type="tel" id="phone" required></label>
        <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: <input type="text" id="address" required></label>
        <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø²: <input type="date" id="date" required></label>
        <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©: <textarea id="notes"></textarea></label>
        <button onclick="getLocation()">ğŸ“ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
        <input type="text" id="location" placeholder="Ù…ÙˆÙ‚Ø¹Ùƒ" readonly>
        
        <div id="servicesContainer">
            <div class="serviceItem">
                <label>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©:</label>
                <select class="service" onchange="calculatePrice()">
                    <option value="10">ØªÙ†Ø¸ÙŠÙ Ø´Ù‚Ù‡ (Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 10Ø¬)</option>
                    <option value="7">ØªÙ†Ø¸ÙŠÙ Ø³Ø¬Ø§Ø¯ Ø§Ù„Ù…Ø³Ø¬Ø¯ (Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 7Ø¬)</option>
                    <option value="100">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ø§Ø¯ (ØµØºÙŠØ±Ø© 100Ø¬)</option>
                    <option value="150">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ø§Ø¯ (ÙƒØ¨ÙŠØ±Ø© 150Ø¬)</option>
                    <option value="150">ØªÙ†Ø¸ÙŠÙ Ø³ØªØ§Ø¦Ø± (ØµØºÙŠØ±Ø© 150Ø¬)</option>
                    <option value="200">ØªÙ†Ø¸ÙŠÙ Ø³ØªØ§Ø¦Ø± (ÙƒØ¨ÙŠØ±Ø© 200Ø¬)</option>
                    <option value="350">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£Ù†ØªØ±ÙŠÙ‡Ø§Øª (350Ø¬)</option>
                    <option value="450">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±ÙƒÙ† (ØµØºÙŠØ±Ø© 450Ø¬)</option>
                    <option value="70">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±ÙƒÙ† (ÙƒØ¨ÙŠØ±Ø© Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 70Ø¬)</option>
                    <option value="350">ØªÙ†Ø¸ÙŠÙ Ù…Ø±Ø§ØªØ¨ (ØµØºÙŠØ±Ø© 350Ø¬)</option>
                    <option value="450">ØªÙ†Ø¸ÙŠÙ Ù…Ø±Ø§ØªØ¨ (ÙƒØ¨ÙŠØ±Ø© 450Ø¬)</option>
                    <option value="0">Ø¯Ù‡Ø§Ù† ÙˆØ´ Ù†Ø¶Ø§ÙØ© (Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©)</option>
                </select>
                <input type="number" class="area" placeholder="Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø£Ùˆ Ø§Ù„Ø¹Ø¯Ø¯" oninput="calculatePrice()" required>
            </div>
        </div>
        
        <button onclick="addService()">Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø£Ø®Ø±Ù‰</button>
        <p>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalPrice">0</span> Ø¬Ù†ÙŠÙ‡</p>
        
        <button onclick="sendWhatsApp()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
    </div>
    <div class="container">
        <h2>Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
        <table id="bookingTable">
            <thead>
                <tr>
                    <th>Ø§Ù„Ø§Ø³Ù…</th>
                    <th>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                    <th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø²</th>
                    <th>Ø§Ù„Ø®Ø¯Ù…Ø§Øª</th>
                    <th>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                </tr>
            </thead>
            <tbody>
                <!-- Ø³ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
            </tbody>
        </table>
    </div>

    <div class="container">
        <h2>ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</h2>
        <div id="calendar"></div>
    </div>

    <script>
        function saveBookingToArchive(name, phone, address, date, services, totalPrice) {
            let table = document.querySelector("#bookingTable tbody");
            let newRow = table.insertRow();
            newRow.innerHTML = `
                <td>${name}</td>
                <td>${phone}</td>
                <td>${address}</td>
                <td>${date}</td>
                <td>${services.join("<br>")}</td>
                <td>${totalPrice} Ø¬Ù†ÙŠÙ‡</td>
            `;
            addBookingToCalendar(name, date);
        }

        function addBookingToCalendar(name, date) {
            let calendar = document.getElementById("calendar");
            let bookingEntry = document.createElement("div");
            bookingEntry.innerHTML = `<strong>${date}</strong>: ${name}`;
            calendar.appendChild(bookingEntry);
        }

        function sendWhatsApp() {
            let phoneNumber = "201013373634";
            let name = document.getElementById("name").value.trim();
            let phone = document.getElementById("phone").value.trim();
            let address = document.getElementById("address").value.trim();
            let date = document.getElementById("date").value.trim();
            let notes = document.getElementById("notes").value.trim() || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
            let location = document.getElementById("location").value.trim() || "Ù„Ù… ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹";
            let totalPrice = document.getElementById("totalPrice").innerText;
            
            let services = [];
            document.querySelectorAll(".serviceItem").forEach(item => {
                let serviceText = item.querySelector(".service").selectedOptions[0].text;
                let quantity = item.querySelector(".area").value || 1;
                services.push(`${serviceText} - ${quantity}`);
            });
            
            let message = `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${location}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}\nğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}\nğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalPrice} Ø¬Ù†ÙŠÙ‡\nğŸ› ï¸ Ø§Ù„Ø®Ø¯Ù…Ø§Øª:\n${services.join("\n")}`;
            let waUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(waUrl, "_blank");
            saveBookingToArchive(name, phone, address, date, services, totalPrice);
        }
    </script>
</body>
</html>
