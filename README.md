<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© ØªÙ†Ø¸ÙŠÙ - ÙƒÙ„ÙŠÙ† Ù…Ø§Ø³ØªØ±</title>
  <meta name="description" content="Ø§Ø­Ø¬Ø² Ø®Ø¯Ù…Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ù† Ø´Ø±ÙƒØ© ÙƒÙ„ÙŠÙ† Ù…Ø§Ø³ØªØ± ÙÙŠ Ø«ÙˆØ§Ù†Ù Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ â€“ Ø´Ù‚Ù‚ØŒ Ø³Ø¬Ø§Ø¯ØŒ Ø³ØªØ§Ø¦Ø± ÙˆØ§Ù„Ù…Ø²ÙŠØ¯ Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù…ÙŠØ²Ø©!" />
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      direction: rtl;
      background: url('https://your-image-link.com/cleaning-animation.gif') no-repeat center center fixed;
      background-size: cover;
      animation: fadeIn 2s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .container {
      width: 350px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background: #e0f7fa;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    select, input, button, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #aaa;
      font-size: 16px;
    }
    .logo {
      width: 120px;
      height: auto;
      margin-bottom: 10px;
    }
    button {
      background-color: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #0056b3;
    }
    @media (max-width: 500px) {
      .container {
        width: 90%;
      }
      select, input, button, textarea {
        font-size: 14px;
      }
    }
    .payment-box {
      font-weight: bold;
      background-color: #ffeeba;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #f5c518;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="https://i.imgur.com/ZKn7xDn.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©" class="logo" />
    <h2>Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© ØªÙ†Ø¸ÙŠÙ - Ø´Ø±ÙƒØ© ÙƒÙ„ÙŠÙ† Ù…Ø§Ø³ØªØ±</h2>

    <div id="servicesContainer">
      <div class="serviceItem">
        <label>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©</label>
        <select class="service" onchange="calculatePrice()">
          <option value="14">ØªÙ†Ø¸ÙŠÙ Ø´Ù‚Ù‡ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ´Ø·ÙŠØ¨ (Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 14Ø¬)</option>
          <option value="7">ØªÙ†Ø¸ÙŠÙ Ø³Ø¬Ø§Ø¯ Ø§Ù„Ù…Ø³Ø¬Ø¯ (Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 7Ø¬)</option>
          <option value="100">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ø§Ø¯ (ØµØºÙŠØ±Ø© 100Ø¬)</option>
          <option value="150">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø³Ø¬Ø§Ø¯ (ÙƒØ¨ÙŠØ±Ø© 150Ø¬)</option>
          <option value="150">ØªÙ†Ø¸ÙŠÙ Ø³ØªØ§Ø¦Ø± (ØµØºÙŠØ±Ø© 150Ø¬)</option>
          <option value="200">ØªÙ†Ø¸ÙŠÙ Ø³ØªØ§Ø¦Ø± (ÙƒØ¨ÙŠØ±Ø© 200Ø¬)</option>
          <option value="450">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£Ù†ØªØ±ÙŠÙ‡Ø§Øª (450Ø¬)</option>
          <option value="450">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±ÙƒÙ† (ØµØºÙŠØ±Ø© 450Ø¬)</option>
          <option value="70">ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±ÙƒÙ† (ÙƒØ¨ÙŠØ±Ø© Ø³Ø¹Ø± Ø§Ù„Ù…ØªØ± 70Ø¬)</option>
          <option value="350">ØªÙ†Ø¸ÙŠÙ Ù…Ø±Ø§ØªØ¨ (ØµØºÙŠØ±Ø© 350Ø¬)</option>
          <option value="550">ØªÙ†Ø¸ÙŠÙ Ù…Ø±Ø§ØªØ¨ (ÙƒØ¨ÙŠØ±Ø© 550Ø¬)</option>
          <option value="250">ØªÙ†Ø¸ÙŠÙ Ù„ÙŠØ²ÙŠ Ø¨ÙˆÙŠ (250Ø¬)</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³ÙŠ Ø³ÙØ±Ø© (75Ø¬)</option>
          <option value="0">Ø¯Ù‡Ø§Ù† ÙˆØ´ Ù†Ø¶Ø§ÙØ© (Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©)</option>
        </select>
        <input type="number" class="area" placeholder="Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø£Ùˆ Ø§Ù„Ø¹Ø¯Ø¯" oninput="calculatePrice()" required />
        <button onclick="removeService(this)">âŒ Ø­Ø°Ù</button>
      </div>
    </div>

    <button onclick="addService()">Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø£Ø®Ø±Ù‰</button>
    <p>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalPrice">0</span> Ø¬Ù†ÙŠÙ‡</p>

    <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required />
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required />
    <input type="text" id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" required />
    <input type="date" id="date" placeholder="Ø­Ø¯Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø²" required />
    <textarea id="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"></textarea>
    <button id="locationBtn" onclick="getLocation()">ğŸ“ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
    <input type="text" id="location" placeholder="Ù…ÙˆÙ‚Ø¹Ùƒ" readonly />

    <div class="payment-box">
      Ø¨Ø±Ø¬Ø§Ø¡ Ø¯ÙØ¹ Ø±Ø¨Ø¹ Ø§Ø¬Ù…Ø§Ù„Ù‰ Ù…Ø¨Ù„Øº Ø§Ù„Ø­Ø¬Ø² Ù…Ù‚Ø¯Ù…Ø§ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²<br>
      <strong>Ù„Ù† ÙŠØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹</strong><br>
      ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ø£Ùˆ Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ Ø¹Ù„Ù‰ Ø±Ù‚Ù…: <strong>01013373634</strong><br>
      ğŸ’° Ø±Ø¨Ø¹ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚: <span id="quarterPrice">0</span> Ø¬Ù†ÙŠÙ‡
    </div>
    <input type="file" id="paymentProof" accept="image/*" required>

    <button onclick="confirmAndSend()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
  </div>

  <script>
    function calculatePrice() {
      let totalPrice = 0;
      let anyFilled = false;
      document.querySelectorAll('.serviceItem').forEach(item => {
        let servicePrice = parseFloat(item.querySelector(".service").value);
        let quantityInput = item.querySelector(".area").value;
        if (quantityInput) {
          let quantity = parseFloat(quantityInput);
          if (!isNaN(quantity)) {
            totalPrice += servicePrice * quantity;
            anyFilled = true;
          }
        }
      });
      document.getElementById("totalPrice").innerText = anyFilled ? totalPrice : 0;
    }

    function addService() {
      let serviceOptions = document.querySelector(".service").innerHTML;
      let container = document.getElementById("servicesContainer");
      let newService = document.createElement("div");
      newService.classList.add("serviceItem");
      newService.innerHTML = `
        <label>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©</label>
        <select class="service" onchange="calculatePrice()">` + serviceOptions + `</select>
        <input type="number" class="area" placeholder="Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø£Ùˆ Ø§Ù„Ø¹Ø¯Ø¯" oninput="calculatePrice()" required>
        <button onclick="removeService(this)">âŒ Ø­Ø°Ù</button>
      `;
      container.appendChild(newService);
    }

    function removeService(button) {
      button.parentElement.remove();
      calculatePrice();
    }

    function getLocation() {
      const locationBtn = document.getElementById("locationBtn");
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          let latitude = position.coords.latitude;
          let longitude = position.coords.longitude;
          let locationUrl = `https://www.google.com/maps?q=${latitude},${longitude}`;
          document.getElementById("location").value = locationUrl;
          locationBtn.textContent = "âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹";
        }, function(error) {
          alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙƒØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹.");
        });
      } else {
        alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ.");
      }
    }

    async function uploadImageToImgbb(file) {
      const formData = new FormData();
      formData.append("image", file);
      const response = await fetch("https://api.imgbb.com/1/upload?key=bde613bd4475de5e00274a795091ba04", {
        method: "POST",
        body: formData
      });
      const data = await response.json();
      return data.success ? data.data.url : "Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ ØµÙˆØ±Ø©";
    }

    async function confirmAndSend() {
      const proofInput = document.getElementById("paymentProof");
      if (proofInput.files.length === 0) {
        alert("ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø£ÙˆÙ„Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø².");
        return;
      }

      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ØŸ")) {
        const proofUrl = await uploadImageToImgbb(proofInput.files[0]);
        sendWhatsApp(proofUrl);
      }
    }

    function sendWhatsApp(proofUrl) {
      let phoneNumber = "201013373634";
      let name = document.getElementById("name").value.trim();
      let phone = document.getElementById("phone").value.trim();
      let address = document.getElementById("address").value.trim();
      let date = document.getElementById("date").value.trim();
      let notes = document.getElementById("notes").value.trim() || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
      let location = document.getElementById("location").value.trim() || "Ù„Ù… ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹";
      let totalPrice = document.getElementById("totalPrice").innerText;

      let services = [];
      document.querySelectorAll(".serviceItem").forEach(item => {
        let serviceText = item.querySelector(".service").selectedOptions[0].text;
        let quantity = item.querySelector(".area").value || 1;
        services.push(`ğŸ”¹ ${serviceText} - ${quantity}`);
      });

      let message = `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}
ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${location}
ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}
ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}
ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}
ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalPrice} Ø¬Ù†ÙŠÙ‡
ğŸ’³ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹: ${proofUrl}
ğŸ§¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª:
${services.join("\\n")}`;

      let waUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(waUrl, "_blank");
    }

    function updateQuarterPrice() {
      const total = parseFloat(document.getElementById("totalPrice").innerText) || 0;
      const quarter = Math.ceil(total * 0.25);
      document.getElementById("quarterPrice").innerText = quarter;
    }

    const observer = new MutationObserver(updateQuarterPrice);
    observer.observe(document.getElementById("totalPrice"), { childList: true });
    updateQuarterPrice();
  </script>
</body>
</html>
